(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6668,5121],{41609:function(e,t,r){var n=r(280),l=r(64160),s=r(35694),i=r(1469),o=r(98612),a=r(44144),u=r(25726),c=r(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||a(e)||c(e)||s(e)))return!e.length;var t=l(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},73135:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var n=r(85893);let l=e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25.056 24",...e,children:(0,n.jsx)("g",{"data-name":"Group 36413",fill:"currentColor",children:(0,n.jsx)("path",{id:"Path_22667","data-name":"Path 22667",d:"M19.474,34.679l-6.946-4.346L5.583,34.679a.734.734,0,0,1-1.1-.8L6.469,25.93.263,20.668a.735.735,0,0,1,.421-1.3l8.1-.566,3.064-7.6a.765.765,0,0,1,1.362,0l3.064,7.6,8.1.566a.735.735,0,0,1,.421,1.3L18.588,25.93l1.987,7.949a.734.734,0,0,1-1.1.8Z",transform:"translate(0 -10.792)"})})})},66560:function(e,t,r){"use strict";r.d(t,{Ch:function(){return a},iv:function(){return o}});var n=r(85893),l=r(67294);let s={},i=l.createContext(s);i.displayName="AttributesContext";let o=e=>{let[t,r]=l.useState(s),o=l.useMemo(()=>({attributes:t,setAttributes:r}),[t]);return(0,n.jsx)(i.Provider,{value:o,...e})},a=()=>{let e=l.useContext(i);if(void 0===e)throw Error("useAttributes must be used within a SettingsProvider");return e}},65604:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var n=r(85893),l=r(26631),s=r(5152),i=r.n(s),o=r(20868),a=r(34135),u=r(11163),c=r(25675),d=r.n(c),m=r(94184),x=r.n(m),f=r(72808),v=r(12083),p=r(69257),h=r(18446),g=r.n(h),b=r(41609),j=r.n(b),S=r(27165),y=r(87507),w=r(17608),P=r(26585),N=r(90067),O=r(67294),k=r(66560);let C=e=>{var t,r,l;let{product:s,isSticky:i}=e,a=(0,u.useRouter)(),{t:c}=(0,o.$G)("common"),{closeModal:m}=(0,w.SO)(),{attributes:h}=(0,k.Ch)(),{name:b,slug:C,image:Q,unit:_,quantity:A,min_price:R,max_price:Z}=null!=s?s:{},M=e=>{a.push(e),m()},{price:U,basePrice:E,discount:T}=(0,v.ZP)({amount:(null==s?void 0:s.sale_price)?null==s?void 0:s.sale_price:null==s?void 0:s.price,baseAmount:null==s?void 0:s.price}),D=(0,O.useMemo)(()=>(0,p.y)(null==s?void 0:s.variations),[null==s?void 0:s.variations]),I=(0,N.V)(D,h),G={};I&&(G=null==s?void 0:null===(r=s.variation_options)||void 0===r?void 0:r.find(e=>g()(e.options.map(e=>e.value).sort(),Object.values(h).sort())));let B=!j()(D);return(0,n.jsx)("div",{className:x()("fixed top-0 left-1/2 z-50 hidden h-auto w-full max-w-6xl -translate-x-1/2 transform bg-light px-8 py-6 shadow transition-all duration-300 md:block",{"invisible -translate-y-1/2 opacity-0":!i,"visible translate-y-0 opacity-100":i}),children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:x()("relative flex shrink-0 items-center justify-center overflow-hidden rounded border border-border-200 border-opacity-70",{"h-28 w-28":!B,"h-40 w-40 lg:h-52 lg:w-52":B}),children:(0,n.jsx)(d(),{src:null!==(l=null==G?void 0:null===(t=G.image)||void 0===t?void 0:t.original)&&void 0!==l?l:null==Q?void 0:Q.original,alt:b,layout:"fill",objectFit:"contain",className:"product-image"})}),(0,n.jsxs)("div",{className:"flex flex-col justify-center overflow-hidden px-8 ltr:mr-auto rtl:ml-auto",children:[(0,n.jsx)("h3",{className:"cursor-pointer truncate text-lg font-semibold tracking-tight text-heading transition-colors hover:text-accent lg:text-xl",onClick:()=>M(y.Z.product(C)),title:b,children:b}),_&&!B?(0,n.jsx)("span",{className:"mt-2 block text-sm font-normal text-body",children:_}):(0,n.jsx)("span",{className:"mt-2 flex items-center",children:B&&(0,n.jsx)(S.Z,{selectedVariation:G,minPrice:R,maxPrice:Z})})]}),(0,n.jsxs)("div",{className:x()("flex w-full shrink-0",{"max-w-max":!B,"max-w-[40%]":B}),children:[!B&&(0,n.jsxs)("span",{className:"flex items-center ltr:mr-8 rtl:ml-8 ",children:[(0,n.jsx)("ins",{className:"text-xl font-semibold text-accent no-underline lg:text-2xl",children:U}),E&&(0,n.jsx)("del",{className:"text-sm font-normal text-muted ltr:ml-2 rtl:mr-2 lg:text-base",children:E})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:x()("flex flex-col justify-center overflow-y-auto",{"h-[140px]":B}),children:(0,n.jsx)(P.Z,{variations:D})}),(0,n.jsx)("div",{className:x()({"mt-4":B}),children:A>0?(0,n.jsx)(f.o,{data:s,variant:"big",variation:G,disabled:(null==G?void 0:G.is_disable)||!I}):(0,n.jsx)("div",{className:"rounded bg-red-500 px-3 py-2 text-sm text-light",children:c("text-out-stock")})})]})]})]})})};var Q=r(1330),_=r(91131),A=r(57872);let R=i()(()=>r.e(2953).then(r.bind(r,52953)),{loadableGenerated:{webpack:()=>[52953]}}),Z=e=>{let{productSlug:t}=e,{t:r}=(0,o.$G)("common"),[s]=(0,_.KO)(Q.f),{product:i,isLoading:u}=(0,A.iB)({slug:t}),{id:c,related_products:d}=null!=i?i:{};return u||!i?(0,n.jsx)("div",{className:"relative flex items-center justify-center w-96 h-96 bg-light",children:(0,n.jsx)(l.Z,{text:r("common:text-loading")})}):(0,n.jsx)(k.iv,{children:(0,n.jsxs)("article",{className:"bg-light w-full max-w-6xl xl:min-w-[1152px] relative z-[51] md:rounded-xl",children:[(0,n.jsx)(C,{product:i,isSticky:s}),(0,n.jsx)(a.default,{product:i,backBtn:!1,isModal:!0}),(null==d?void 0:d.length)>1&&(0,n.jsx)("div",{className:"p-5 md:pb-10 lg:p-14 xl:p-16",children:(0,n.jsx)(R,{products:d,currentProductId:c})})]})})};var M=Z},57872:function(e,t,r){"use strict";r.d(t,{Bk:function(){return h},AM:function(){return p},OZ:function(){return g},os:function(){return x},iB:function(){return f},rn:function(){return m},k5:function(){return v}});var n=r(88767),l=r(65927),s=r(64648),i=r(59787);let o=e=>{let{limit:t=30,price:r,categories:n,name:l,searchType:s,searchQuery:i,text:o,...a}=e||{};return{limit:t,...r&&{min_price:r},...l&&{name:l.toString()},...n&&{categories:n.toString()},...s&&{type:s.toString()},...i&&{name:i.toString()},...o&&{name:o.toString()},...a}};var a=r(20868),u=r(17608),c=r(40782),d=r(11163);function m(e){var t,r;let{locale:a}=(0,d.useRouter)(),u={...o(e),language:a},{data:c,isLoading:m,error:x,fetchNextPage:f,hasNextPage:v,isFetching:p,isFetchingNextPage:h}=(0,n.useInfiniteQuery)([s.P.PRODUCTS,u],e=>{let{queryKey:t,pageParam:r}=e;return l.Z.products.all(Object.assign({},t[1],r))},{getNextPageParam:e=>{let{current_page:t,last_page:r}=e;return r>t&&{page:t+1}}});return{products:null!==(r=null==c?void 0:null===(t=c.pages)||void 0===t?void 0:t.flatMap(e=>e.data))&&void 0!==r?r:[],paginatorInfo:Array.isArray(null==c?void 0:c.pages)?(0,i.Q)(null==c?void 0:c.pages[c.pages.length-1]):null,isLoading:m,error:x,isFetching:p,isLoadingMore:h,loadMore:function(){f()},hasMore:Boolean(v)}}let x=e=>{let{locale:t}=(0,d.useRouter)(),r={...e,language:t},{data:i,isLoading:o,error:a}=(0,n.useQuery)([s.P.PRODUCTS_POPULAR,r],e=>{let{queryKey:t}=e;return l.Z.products.popular(t[1])});return{products:null!=i?i:[],isLoading:o,error:a}};function f(e){let{slug:t}=e,{locale:r}=(0,d.useRouter)(),{data:i,isLoading:o,error:a}=(0,n.useQuery)([s.P.PRODUCTS,{slug:t,language:r}],()=>l.Z.products.get({slug:t,language:r}));return{product:i,isLoading:o,error:a}}function v(e){var t;let{data:r,isLoading:o,error:a,isFetching:u}=(0,n.useQuery)([s.P.PRODUCTS_QUESTIONS,e],e=>{let{queryKey:t}=e;return l.Z.products.questions(Object.assign({},t[1]))},{keepPreviousData:!0});return{questions:null!==(t=null==r?void 0:r.data)&&void 0!==t?t:[],paginatorInfo:(0,i.Q)(r),isLoading:o,error:a,isFetching:u}}function p(){let{t:e}=(0,a.$G)("common"),t=(0,n.useQueryClient)(),{mutate:r,isLoading:i}=(0,n.useMutation)(l.Z.products.createFeedback,{onSuccess:r=>{c.Am.success(e("text-feedback-submitted")),t.refetchQueries(s.P.PRODUCTS_QUESTIONS),t.refetchQueries(s.P.PRODUCTS_REVIEWS)}});return{createFeedback:r,isLoading:i}}function h(){let{t:e}=(0,a.$G)("common"),{closeModal:t}=(0,u.SO)(),{mutate:r,isLoading:s}=(0,n.useMutation)(l.Z.products.createAbuseReport,{onSuccess:()=>{c.Am.success(e("text-abuse-report-submitted"))},onError:t=>{let{response:{data:r}}=null!=t?t:{};c.Am.error(e(null==r?void 0:r.message))},onSettled:()=>{t()}});return{createAbuseReport:r,isLoading:s}}function g(){let{t:e}=(0,a.$G)("common"),{closeModal:t}=(0,u.SO)(),r=(0,n.useQueryClient)(),{mutate:i,isLoading:o}=(0,n.useMutation)(l.Z.products.createQuestion,{onSuccess:()=>{c.Am.success(e("text-question-submitted"))},onError:t=>{let{response:{data:r}}=null!=t?t:{};c.Am.error(e(null==r?void 0:r.message))},onSettled:()=>{r.refetchQueries(s.P.PRODUCTS_QUESTIONS),t()}});return{createQuestion:i,isLoading:o}}}}]);