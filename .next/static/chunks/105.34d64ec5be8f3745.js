"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{10105:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(85893),s=r(31567),l=r(7392),a=r(91131),i=r(29222),o=r(93988),c=r(17608),m=r(33830),d=r(68938),u=r(66353),x=r(71470),h=r(67896),b=r(25788),f=r(55443),j=r(24197),v=r(87536),g=r(74231);let p=g.Ry().shape({email:g.Z_().email("error-email-format").required("error-email-required"),name:g.Z_().required("error-name-required"),code:g.Z_().required("error-code-required")});function N(e){let{onSubmit:t,loading:r}=e,{t:l}=(0,s.$)("common"),{closeModal:a}=(0,c.SO)();return(0,n.jsx)("div",{className:"p-5 space-y-5 border border-gray-200 rounded",children:(0,n.jsx)(j.l,{onSubmit:t,validationSchema:p,children:e=>{var t,s;let{register:i,control:o,formState:{errors:c}}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.Z,{label:l("text-email"),...i("email"),type:"email",variant:"outline",className:"mb-5",error:l(null===(t=c.email)||void 0===t?void 0:t.message)}),(0,n.jsx)(b.Z,{label:l("text-name"),...i("name"),variant:"outline",className:"mb-5",error:l(null===(s=c.name)||void 0===s?void 0:s.message)}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)(f.Z,{children:l("text-otp-code")}),(0,n.jsx)(v.Qr,{control:o,render:e=>{let{field:{onChange:t,onBlur:r,value:s}}=e;return(0,n.jsx)(x.Z,{value:s,onChange:t,numInputs:6,separator:(0,n.jsx)("span",{className:"hidden sm:inline-block",children:"-"}),containerStyle:"flex items-center justify-between -mx-2",inputStyle:"flex items-center justify-center !w-full mx-2 sm:!w-9 !px-0 appearance-none transition duration-300 ease-in-out text-heading text-sm focus:outline-none focus:ring-0 border border-border-base rounded focus:border-accent h-12",disabledStyle:"!bg-gray-100"})},name:"code",defaultValue:""})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,n.jsx)(h.Z,{variant:"outline",className:"hover:border-red-500 hover:bg-red-500",onClick:a,children:l("text-cancel")}),(0,n.jsx)(h.Z,{loading:r,disabled:r,children:l("text-verify-code")})]})]})}})})}function y(){let{t:e}=(0,s.$)("common"),[t]=(0,a.KO)(o.R),{mutate:r,isLoading:c,serverError:m,setServerError:x}=(0,i.Tk)(),{mutate:h,isLoading:b,serverError:f}=(0,i.hv)();function j(e){h({...e})}return(0,n.jsxs)("div",{className:"mt-4",children:["PhoneNumber"===t.step&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{variant:"error",message:m&&e(m),className:"mb-4",closeable:!0,onClose:()=>x(null)}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(d.Z,{onSubmit:function(e){let{phone_number:t}=e;r({phone_number:"+".concat(t)})},isLoading:c,view:"login"})})]}),"OtpForm"===t.step&&(0,n.jsx)(u.Z,{isLoading:b,onSubmit:j}),"RegisterForm"===t.step&&(0,n.jsx)(N,{loading:b,onSubmit:j})]})}function Z(){let{t:e}=(0,s.$)("common"),{openModal:t}=(0,c.SO)();return(0,n.jsxs)("div",{className:"flex flex-col justify-center w-screen h-screen px-5 py-6 bg-light sm:p-8 md:h-auto md:max-w-md md:rounded-xl",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(m.Z,{})}),(0,n.jsx)("p",{className:"mt-4 text-sm leading-relaxed text-center mb-7 text-body sm:mt-5 sm:mb-10 md:text-base",children:e("otp-login-helper")}),(0,n.jsx)(y,{}),(0,n.jsxs)("div",{className:"relative flex flex-col items-center justify-center text-sm mt-9 mb-7 text-heading sm:mt-11 sm:mb-8",children:[(0,n.jsx)("hr",{className:"w-full"}),(0,n.jsx)("span",{className:"absolute -top-2.5 bg-light px-2 ltr:left-2/4 ltr:-ml-4 rtl:right-2/4 rtl:-mr-4",children:e("text-or")})]}),(0,n.jsxs)("div",{className:"text-sm text-center text-body sm:text-base",children:[e("text-back-to")," ",(0,n.jsx)("button",{onClick:()=>t("LOGIN_VIEW"),className:"font-semibold underline transition-colors duration-200 text-accent hover:text-accent-hover hover:no-underline focus:text-accent-hover focus:no-underline focus:outline-none ltr:ml-1 rtl:mr-1",children:e("text-login")})]})]})}}}]);